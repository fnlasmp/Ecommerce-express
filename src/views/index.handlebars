<h1>Products</h1>

{{#if hasPrevPage}}
  <a href="?page={{prevPage}}&limit={{limit}}">Previous Page</a>
{{/if}}

<span>Page {{page}} of {{totalPages}}</span>

{{#if hasNextPage}}
  <a href="?page={{nextPage}}&limit={{limit}}">Next Page</a>
{{/if}}

<div class="products">
  {{#each products}}
    <div class="product">
      <h3>{{title}}</h3>
      <p>Price: ${{price}}</p>
      <p>Category: {{category}}</p>
      <button class="add-to-cart" data-product-id="{{_id}}">Add to Cart</button>
    </div>
  {{/each}}
</div>

<style>
  .products {
    display: flex;
    flex-wrap: wrap;
  }

  .product {
    width: 200px;
    margin: 10px;
    padding: 10px;
    border: 1px solid #ccc;
  }
</style>

<script>
  const addToCartButtons = document.querySelectorAll('.add-to-cart');

  addToCartButtons.forEach(button => {
    button.addEventListener('click', () => {
      const productId = button.dataset.productId;
      // Implement add to cart logic here (e.g., send a request to the server)
      console.log(`Adding product ${productId} to cart`);
    });
  });
</script>